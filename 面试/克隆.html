<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        * 基本类型
        * 引用类型
        * 深克隆、浅克隆
        * JSON.parse JSON.stringfly, 
            无法实现对对函数 、RegExp等特殊对象的克隆、
            会抛弃对象的constructor,所有的构造函数会指向Object; 
            会丢失原型链上的属性和方法, constructor指向Object
        *  Object.assgin 只能复制一层 浅克隆
        */
        var obj = {
            name: 'tom',
            age: 23,
            detail: {
                height: 175
            }
        }
        function deepClone(object) {
            if(!object) {
                console.log('类型不符合')
                return null
            }
            if( typeof object === 'string') {
                console.log('基本类型直接返回值')
            }
            var newObject
            const type = Object.prototype.toString.call(object)
            if(type === '[object Object]') {
                newObject = {}
            }else if(type === '[object, Array]') {
                newObject = []
            }
            for( item in object) {
                if(typeof object[item] === 'object') {
                    newObject[item] =  deepClone(object[item])
                }else {
                    newObject[item] = object[item]
                }
            }
            return newObject
        }
        var newobj = deepClone(obj)
        newobj.name = 'tony'
        newobj.detail.height = 190
        console.log(obj)
        console.log(newobj)
    </script>
</body>
</html>